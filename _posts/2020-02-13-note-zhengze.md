---
layout: post
title: 正则表达式学习笔记
date: 2020-02-13
categories: note
tags: 正则
cover: '../../../assets/img/20200213.jpg'
---

## 正则表达式
### 准备
#### grep
+ grep "字符串" 文件名
### 正则单字符表达方式
#### 特定字符
定义： 某一个特定的字符 'a'/'1'
+ grep '字符'  文件名
#### 范围内字符
+ 范围内字符：单个字符  []
  + 数字字符：[0-9],[259] //[0-9]表示选中0到9所有的字符，[259]表示选中2,5,9中任意字符
    + 例：grep '[259]'  文件名
  + 小写字符：[a-z]
  + 大写字符：[A-Z]
  + 大小写字符：[a-zA-Z]
  + 符号字符：[,:!]
+ 范围内字符：反向字符  ^
  + 取反：[^0-9],[^0]
    + 例：grep '[^0-9]' 文件名
#### 任意字符
+ 代表任意一个字符：'.'
  + 例：grep '.'  文件名
  + 注意与'[.]'和'\.'的区别

### 正则其他符号
#### 边界字符（头尾字符）
+ 头字符
  + ^ : ^root  注意与[^]的区别
  + 例：grep '^root'  文件名
+ 尾字符
  + $ :false$
  + 例：grep 'false$' 文件名
+ 空行的表示：'^$'
+ 元字符（代表普通字符或特殊字符）
  + \w:  匹配任何字类字符，包括下划线（[A-Za-z0-9_]）
  + \W:  匹配任意非字类字符。（[^A-Za-z0-9_]）
    + 例：grep '\w'  文件名
  + \b:   表示单词的分割
    + 例：grep '\bx\b'  文件名  //寻找前后都有分隔的x

### 正则表达式字符组合
#### 字符串
+ 普通字符串：'root'   '1000'
+ 匹配包含关系的字符串 ：'m..c'  'd...n'  
+ 组合字符串：'[A-Z][a-z]' //表示一个大写字母和一个小写字母的字符组合
  + 例1：grep '[A-Z][a-z]'  文件名
  + 例2：grep '[0-9][0-9]'  文件名
  + 例3：grep '\b[0-9][0-9]\b'  文件名  //匹配前后都有分隔符的两位数
#### 重复
+ *  :零次或多次匹配前面的字符或子表达式
  + 例1：grep 'se*' 文件名 //可以匹配 s se 或seeee等
  + 例1：grep '\(se\)*' 文件名 //对se这个字符串进行重复 //注意要加反义 //注意因为有零次，所以空行或其他是可以出现在结果的
+ +  :一次或多次匹配前面的字符或子表达式
  + 例1：grep 'se\+' 文件名 //可以匹配 se 或seeee等 //注意要加反义
  + 例2：grep '\(se\)\+' 文件名
+ ?  :零次或一次匹配前面的字符或子表达式
  + 例1：grep 'se\?' 文件名 //可以匹配 se 或s ，只有这两种 //注意要加反义
  + 例2：grep '\(se\)\?' 文件名
#### 重复特定的次数 ：{n:m} //n表示重复的最小次数 m表示重复最大的次数
+ *  :  {0,}
+ +  :  {1,}
+ ?  :  {0,1}
+ 例：grep '[0-9]\{2,3\}' 文件名  匹配出两位到三位的数字字符
#### 任意字符串
+ 任意字符串的表示：.*
  + 例1： grep '^r.*' 文件名   //r开头的任意且是任意长度的字符串
  + 例2:    grep 'm.*c' 文件名    //包含m和c且m和c之间长度为任意且字符任意的字符串
  + 例3:    grep '\bm[a-z]*c\b' 文件名  //包含m和c且m和c之间长度为任意且字符在a-z之间的任意的字符串
#### 逻辑的表示
+ "| " :   逻辑或
  + 例1：grep 'bin/\(false\|true\)' 文件名 //匹配bin/true或bin/false


### 案例
1. 匹配4到10位的数字
   + grep '\b[0-9]\{4,10\}\b'  文件名
2. 匹配15位到18位的身份证号（支持带X的）
   + grep '^[1-9][0-9]\{13,16\}\([0-9xX]\)$'  文件名   //身份证开头不为0
3. 匹配15位或18位的身份证号（支持带X的）
   + grep '^[0-9]\([0-9]\{13\}\|[0-9]\{16\}\)[0-9xX]$' 文件名
4.匹配密码（由数字、26个字母和下划线组成）
   + grep [^\w\+$] 文件名 

### 注意点
+ 正则匹配时候会把尽可能所有适合的都匹配出来
+ 注意范围一定要合适
+ 注意转义符号" \ "